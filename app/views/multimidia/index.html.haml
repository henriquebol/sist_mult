#content
  .title
    %h3 2015.2
    %h3 SMULT - TELM.089
    %h2 SISTEMAS DE MULTIMIDIA
    %h4 REGIS CRISTIANO PINHEIRO MARQUES
    %br
    %h5 Henrique Bruno Oliveira Lima
    %h5 M: 20122015020424
    %hr
  = form_for :calcHuffman, :url => {:controller => 'multimidia', :action => 'calcHuffman'}, method: "get", remote: true do |f|
    .left.column
      = text_area_tag(:input, "Insira os dados a serem comprimidos", size: "24x6")
    .center
      = submit_tag ("Codificação de Huffman ---> \n Entrega: 04/03/2016"), { :style => "height: 50px;" }
      
    .right.column
      = label_tag(:answer, ".........", class: 'answer')

:javascript

  $('form').bind('ajax:complete', function(xhr, result){
    var obj = JSON.parse(result.responseText);
    var resposta = "Usando a codificação ASCII (8 bits): " + obj.bits_asc2 + " bits" +
                  "<br /><br />" +

                  "Codificação baseada em " + obj.base + "-bits: " + obj.bits_base + " bits" +
                  "<br />" +
                  "Redução (" + obj.base + "-bits): " + obj.porcentagem_base + " %" + 
                  "<br /><br />" +

                  "Usando a codificação Huffman: " + obj.tamnaho_resposta + " bits" + 
                  "<br />" +
                  "Redução (Huffman): " + obj.porcentagem_resposta + " %" + 
                  "<br /><br />" +

                  "Codificação (Huffman): <br />" + obj.resposta +
                  "<br /><br />" +

                  "Frequencia: "  + JSON.stringify(obj.frequencia, null, '<br />') + 
                  "<br />" +

                  "<br />" +
                  "Dicionario: " + JSON.stringify(obj.dicionario, null, '<br />');
    





    $('.answer').html(resposta);
  });